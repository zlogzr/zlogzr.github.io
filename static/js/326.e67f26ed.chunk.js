"use strict";(self.webpackChunkjira=self.webpackChunkjira||[]).push([[326],{8020:function(e,r,n){n.d(r,{j:function(){return s}});var t=n(7313),s=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,t.useRef)(document.title).current;(0,t.useEffect)((function(){document.title=e}),[e]),(0,t.useEffect)((function(){return function(){r||(document.title=n)}}),[r,n])}},8326:function(e,r,n){n.r(r),n.d(r,{LongButton:function(){return O},default:function(){return F}});var t=n(168),s=n(9439),a=n(7313);var i=n.p+"static/media/left.e74de3ec0611913bda20171ee936a782.svg";var o=n.p+"static/media/logo.8bb06c97401ce9bc0ed915a4bb3806fe.svg";var c,d,u,l,p,m,h=n.p+"static/media/right.890da620956e0882655f15236bcf54dd.svg",x=n(6657),f=n(8020),Z=n(6225),g=n(6155),b=n(9491),v=n(9559),j=n(4165),w=n(5861),k=n(7376),y=n(5526),E=n(4542),I=n(3690),q=n(6417),z=function(e){var r=e.onError,n=(0,k.a)().login,t=(0,y.r)(void 0,{throwOnError:!0}),s=t.run,a=t.isLoading,i=function(){var e=(0,w.Z)((0,j.Z)().mark((function e(t){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),r(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(r){return e.apply(this,arguments)}}();return(0,q.jsxs)(E.Z,{onFinish:i,children:[(0,q.jsx)(E.Z.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:(0,q.jsx)(I.Z,{placeholder:"\u7528\u6237\u540d",type:"text",id:"username"})}),(0,q.jsx)(E.Z.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,q.jsx)(I.Z,{placeholder:"\u5bc6\u7801",type:"password",id:"password"})}),(0,q.jsx)(E.Z.Item,{children:(0,q.jsx)(O,{loading:a,htmlType:"submit",type:"primary",children:"\u767b\u5f55"})})]})},C=n(5987),L=["cpassword"],T=function(e){var r=e.onError,n=(0,k.a)().register,t=(0,y.r)(void 0,{throwOnError:!0}),s=t.run,a=t.isLoading,i=function(){var e=(0,w.Z)((0,j.Z)().mark((function e(t){var a,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.cpassword,i=(0,C.Z)(t,L),a===i.password){e.next=4;break}return r(new Error("\u8bf7\u786e\u8ba4\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u76f8\u540c")),e.abrupt("return");case 4:return e.prev=4,e.next=7,s(n(i));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),r(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(r){return e.apply(this,arguments)}}();return(0,q.jsxs)(E.Z,{onFinish:i,children:[(0,q.jsx)(E.Z.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:(0,q.jsx)(I.Z,{placeholder:"\u7528\u6237\u540d",type:"text",id:"username"})}),(0,q.jsx)(E.Z.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,q.jsx)(I.Z,{placeholder:"\u5bc6\u7801",type:"password",id:"password"})}),(0,q.jsx)(E.Z.Item,{name:"cpassword",rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801"}],children:(0,q.jsx)(I.Z,{placeholder:"\u786e\u8ba4\u5bc6\u7801",type:"password",id:"cpassword"})}),(0,q.jsx)(E.Z.Item,{children:(0,q.jsx)(O,{loading:a,htmlType:"submit",type:"primary",children:"\u6ce8\u518c"})})]})},F=function(){var e=(0,a.useState)(!1),r=(0,s.Z)(e,2),n=r[0],t=r[1],i=(0,a.useState)(null),o=(0,s.Z)(i,2),c=o[0],d=o[1];return(0,f.j)("Jira\u4efb\u52a1\u7ba1\u7406\u7cfb\u7edf"),(0,q.jsxs)(A,{children:[(0,q.jsx)(J,{}),(0,q.jsx)(B,{}),(0,q.jsxs)(R,{children:[(0,q.jsx)(S,{children:n?"\u8bf7\u6ce8\u518c":"\u8bf7\u767b\u5f55"}),(0,q.jsx)(x.Tv,{error:c}),n?(0,q.jsx)(T,{onError:d}):(0,q.jsx)(z,{onError:d}),(0,q.jsx)(g.Z,{}),(0,q.jsx)(b.Z,{type:"link",onClick:function(){return t(!n)},children:n?"\u5df2\u7ecf\u6709\u8d26\u53f7\u4e86\uff1f\u76f4\u63a5\u767b\u5f55":"\u6ca1\u6709\u8d26\u53f7\uff1f\u6ce8\u518c\u65b0\u8d26\u53f7"})]})]})},O=(0,Z.Z)(b.Z)(c||(c=(0,t.Z)(["\n  width: 100%;\n"]))),S=Z.Z.h2(d||(d=(0,t.Z)(["\n  margin-bottom: 2.4rem;\n  color: rgb(94, 108, 132);\n"]))),B=Z.Z.div(u||(u=(0,t.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-position: left bottom, right bottom;\n  background-size: calc(((100vw - 40rem) / 2) - 3.2rem), calc(((100vw - 40rem) / 2) - 3.2rem), cover;\n  background-image: url(","), url(",");\n"])),i,h),J=Z.Z.header(l||(l=(0,t.Z)(["\n  background: url(",") no-repeat center;\n  padding: 5rem 0;\n  background-size: 8rem;\n  width: 100%;\n"])),o),R=(0,Z.Z)(v.Z)(p||(p=(0,t.Z)(["\n  width: 40rem;\n  min-height: 56rem;\n  padding: 3.2rem 4rem;\n  border-radius: 0.3rem;\n  box-sizing: border-box;\n  box-shadow: rgba(0, 0, 0, 0.1) 0 0 10px;\n  text-align: center;\n"]))),A=Z.Z.div(m||(m=(0,t.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n"])))}}]);